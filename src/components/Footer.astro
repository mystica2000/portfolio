<footer>
  <div class="footer__box">
    <span>Â© 2024 | Mystica</span>
    <div>
      <button id="dark">dark</button>
      <button id="light">light</button>
    </div>
  </div>
</footer>

<style>
  footer {
    display: flex;
    flex-direction: row;
    width: 100%;
    justify-content: space-around;
  }

  .footer__box {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    max-width: var(--content-width);
    width: 100%;
    margin: 1em;
  }
</style>

<script is:inline>

  const init = () => {

  const theme = (()=> {
    if (typeof localStorage != 'undefined' && localStorage.getItem('theme')) {
      return localStorage.getItem('theme');
    }

    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
      return 'dark';
    }

    return 'light';
  })();

  if (theme == 'light') {
    document.documentElement.classList.remove('dark');
  } else {
    document.documentElement.classList.add('dark');
  }

  window.localStorage.setItem('theme',theme);

  const handleToggleClick = () => {
    const element = document.documentElement;
    element.classList.toggle("dark");

    const isDark = element.classList.contains("dark");
    localStorage.setItem("theme", isDark ? "dark" : "light");
  }

  document.getElementById("dark").addEventListener('click',handleToggleClick);
  document.getElementById("light").addEventListener('click',handleToggleClick);


  }

  document.addEventListener("DOMContentLoaded", () => init());
  document.addEventListener("astro:after-swap", () => init());

</script>