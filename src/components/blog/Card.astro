---
import type { CollectionEntry } from "astro:content";
import Tags from "./Tags.astro";

interface Props {
  post: CollectionEntry<"posts">;
  id: string;
}

const { post, id } = Astro.props;
---

<article>
  <a href={`/posts/${id}`} class="blog__card">
    <h3 class="heading" transition:name={`title-${post.data.title}`}>
      {post.data.title}
    </h3>
    <p class="padding para">{post.data.description}</p>
    <Tags tags={post.data.tags} />
    <div class="padding card__footer">
      Time to read ~ {post.data.readingTime}
    </div>
  </a>
</article>

<style>
  .blog__card {
    width: 100%;
    border: 2px solid rgb(187 187 187);
    min-height: 200px;
    max-height: 250px;
    height: 100%;
    display: grid;
    background-color: #ffffff;
    border-radius: 10px;
    grid-template-rows: 0.5fr 1fr 0.2fr;
    box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;
  }

  .blog__card:hover,
  .blog__card:active {
    background-color: #edededb8;
    box-shadow: rgb(0 0 0 / 20%) 0px 7px 29px 0px;
  }

  .padding {
    padding-left: 1em;
    padding-right: 1em;
  }

  .card__footer {
    padding-bottom: 1em;
    color: rgb(55 65 81);
    font-weight: 600;
  }

  .para {
    height: 3.3em;
    overflow: hidden;
    margin-block: 0;
  }

  a {
    text-decoration: none;
    color: inherit;
  }

  :global(.dark) .blog__card {
    border: 2px solid rgb(77 76 76);
    box-shadow: rgb(255 255 255 / 20%) 0px 7px 29px 0px;
    background-color: black;
  }

  :global(.dark) .blog__card:hover {
    background-color: #1a1a1a;
    border: 2px solid #555555;
    box-shadow: rgb(247 247 247 / 20%) 0px 7px 29px 0px;
  }

  :global(.dark) .blog__card:active {
    background-color: #1a1a1a;
    border: 2px solid #555555;
    box-shadow: rgb(247 247 247 / 20%) 0px 7px 29px 0px;
  }

  :global(.dark) .card__footer {
    color: rgb(227 227 227);
  }

  .heading {
    padding-left: 0.7em;
    padding-right: 0.7em;
    font-size: 1.5em;
  }

  @media screen and (max-width: 720px) {
    .blog__card {
      max-width: 100%;
    }
  }
</style>
